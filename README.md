## Getting Started with Circom

- Install the Circom [install](https://docs.circom.io/getting-started/installation/)
- Writing circuits in folder `circuits` compile to `circuites/build` folder
- Compiling `circom ./swap_multiplier.circom --r1cs --wasm --sym --c -o build`
- Download the "Powers of Tau trusted setup file" select `powersOfTau28_hez_final_08.ptau` file from [here](https://github.com/iden3/snarkjs#7-prepare-phase-2) and place it in the `circuites` folder
- Back to root folder and Run `yarn snarkjs plonk setup ./circuits/build/swap_multiplier.r1cs ./circuits/powersOfTau28_hez_final_08.ptau ./circuits/build/proving_key.zkey`to generate the`generate proving key` file that we will use to generate the proof using the R1CS and ptau

### Export the verifier contract from the proving key

- Run `yarn snarkjs zkey export solidityverifier ./circuits/build/proving_key.zkey ./contracts/src/SwapVerifier.sol` to generate the `contracts/src/SwapVerifier.sol` file

### Create the proof

- Run `snarkjs plonk fullprove circuits/witness.json circuits/build/swap_multiplier_js/swap_multiplier.wasm circuits/build/proving_key.zkey circuits/build/proof.json circuits/build/public.json` to generate the `proof.json` and `public.json` file

** Optional step **
We need a verification key that can be generated from the proving key to verify the proof. Hereâ€™s how to get that:

- Run `snarkjs zkey export verificationkey circuits/build/proving_key.zkey circuits/build/verification_key.json` to generate the `verification_key.json` file

### Verify the proof

We use the this command to verify the proof, passing in the verification_key we exported earlier.

If all is well, you should see that OK has been outputted to your console. This signifies the proof is valid.

- Run `snarkjs plonk verify circuits/build/verification_key.json circuits/build/public.json circuits/build/proof.json` to verify the proof

### Similate a verification call

- Run `snarkjs zkey export soliditycalldata circuits/build/public.json circuits/build/proof.json` to cut and paste the result directly in the verify function in the `SwapVerifier.sol` contract

And voila! That's all there is to it :)

### Proof for withdraw

```
_proof: [2484467961901526357083659677031275139843656012942112113765699821739119702628,11959036481709733614119226342680436296439419213041010636913954999137095586332,2857441107104185593692710824202919117020160016161113634344772943305527282947,14677478741347713623170393014500786724756291000333821499258062672337300722654,21329309929980340729463624826291021064406442718758978053225748351426031369407,4916216972169679723703383657260607669762268258045044245420808195838751234840,9184884180169809047488723221979690554844359148125565406479738386528129794994,9009230401254754576192143172670718482394870762285844485463456541918435101887,11825233313143736679535916128651110722961716688636654169224604319366600329129,6889428171706345515742503933395985017261322813544120714401904162659690939797,10217222535523388167367166704893500697867665378711950159449932965469321318832,2741859554924974728183861124697521433388373998645694049862064167749149398420,3640681002032186017403659148108557193401381948106722990158991323908471507896,21158004818670024701410308102019265001767508866561366667297495655022736787722,1598529850084995528563123739249910144058656933910048578038838688942162627484,4126228238992420396192411974016647195529589031558829699508163015671165523588,17439816512363417859180456343286741590753242873659857837948001582563994605091,19317132629591594021041727055348337415144229769669142073173197494306503965802,14548396325720430630357151823799804987373982038026153087952652365015940629129,9206853833996251225363346766237184078437704408127920434354895401958317100620,1507140055648755532974673867430282569498993505589454777416030065980233254815,681420461986600119356068440998365542464659569268150236412595059142686800509,14277016146595286161126401855495652136515829390235907478081562491270792191169,18725595167548806965642892125513977824793797613137214133363693200923325080643]

pubSignals: [10780830691781017420074439787495958877950596246159245786151402679131682618750,7106845738133882086345912894961481425204400941108340403951013321794263700711,20174539379539423050504750187002670232292930346096343810711356488132818469794,9999999999,1000000000000000000,1,1234567890]
```

---

## Contract Address

Verifier: (0x8AF6FD5d350a3a5d0512A4b44825a2551Fad46bf)[https://holesky.etherscan.io/address/0x8AF6FD5d350a3a5d0512A4b44825a2551Fad46bf]

```

https://holesky.etherscan.io/address/0x8AF6FD5d350a3a5d0512A4b44825a2551Fad46bf#readContract

[15554572874070273459024021647137410327645983519704767891827821443528764177653,12894631816980168183662580682990084552800607703314759747016000993408078589466,9739172124930571002331168461361638854467696157053185003296531348250609995099,14891060481786495736995058330181050466033481474521073710946646861199359809526,12612614941622906760143020923418963709682034463846098867544418718897368681427,7393193848033187695105371204729048094091909352601533787704406252392828956366,1720570938059819152311809241554665446274950562048954075071642537182822124871,16807778918487411711169401149167223835015410783856576255339918911129550173386,713184839308591970626205183530982440867412528308265637526962391079086060159,2664715765611421426531717461280312712503699694198362255916127264499423314320,18707171352146608396822624903191916636182503509306681244015210506122410478418,8419506244372709908433596465326816120914235080733646383084488483926833969811,8482690143768986252585244370400473753595651323544343041093693418672128903141,9798195095933719600502013527927654353678768772558968638059675221140311390191,1204385555033607147982768020314546957077926407997885982940959679278888017971,6410622587902169859128547011974716574079924225221473310613596377182963981662,832026854646240948019571892043302885517804906147535592234876363879348199489,840076125045089023531223719701445190066796485951788559037038874165009114550,10397095501772515809181252169871526235271742629243988351726607937545673091036,597211190020136366935584785635331396320835300989209338228068945521064633721,7289521396077047818047385512220901790598048092098161837063190634591935131308,13990562260470277311489828421446659119224868859035820256193019899327092458867,14624400929120835447127622562696617935507533630862212880436752923176181936316,3372989280662244672314212346870450221438247229189827470561332130536233062853]

[210]


```

SimpleMultipiler: (0x4ACb290BC6a49070d5f468eaecc8B332dBD9E1B6)[https://holesky.etherscan.io/address/0x4ACb290BC6a49070d5f468eaecc8B332dBD9E1B6]

---

This is a [Next.js](https://nextjs.org/) project bootstrapped with [`create-next-app`](https://github.com/vercel/next.js/tree/canary/packages/create-next-app).

## Refs

- https://github.com/iden3/rollup/blob/master/circuits/rollup.circom
- https://hackernoon.com/protect-yourself-from-identity-theft-by-using-zero-knowledge-proof-solidity-and-ethereum
- https://github.com/zkBob/zkbob-contracts/tree/master
-

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/basic-features/font-optimization) to automatically optimize and load Inter, a custom Google Font.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js/) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/deployment) for more details.
